<!DOCTYPE html>
<html>
<head>
<!-- Article ID: 52 - Extracted from develop-1996 -->
<!-- on 2025-01-18 by Giorgio Ferrara - giorgio<dot>ferrara<at>gmail<dot>com -->
<!-- The content is protected by the copyright of its respective owners -->
<title>December 96 - Letters</title>
<link href="../common/styles/main.css" rel="stylesheet" type="text/css">
</head>
<body>
<h2>LETTERS</h2>
<b>GAME OUT OF CONTROL</b><br>
When running the code from Philip McBride's article "Game Controls for QuickDraw<br>
3D" in Issue 27 of develop, I noticed in MySetCameraData that the call to<br>
Q3Camera_SetPlacement gets fouled up after a while. The fix shown below was needed.<br>
<pre>void MyGetCameraData(
    DocumentPtr theDocument,
    TQ3CameraObject theCamera)
{
    TQ3CameraPlacement cameraPlacement;
    ...
    Q3Vector3D_Cross(
        &amp;theDocument-&gt;zVector,
        &amp;theDocument-&gt;yVector,
        &amp;theDocument-&gt;zVector);

    // I added this:
    Q3Vector3D_Normalize(
        &amp;theDocument-&gt;xVector,
        &amp;theDocument-&gt;xVector);
}</pre>
<p class="spacer">&nbsp;</p>
<p>
-- Flip Phillips
</p>
<p>
<i>You made the right call. QuickDraw 3D requires all vectors to be of unit length</i><br>
<i>(normalized). So any changes to&nbsp;&nbsp;vectors that could make them not normalized should</i><br>
<i>be followed by a call to normalize&nbsp;&nbsp;those vectors (using Q3Vector3D_Normalize as</i><br>
<i>you've done). If QuickDraw 3D didn' t have this requirement, it would have to</i><br>
<i>normalize vectors itself internally, which would take away from its efficiency.</i><br>
<i>-- Philip McBride</i>
</p>
<p>
<b>A SIDE ISSUE</b><br>
In Steve Falkenburg's article "Planning for Mac OS 8 Compatibility" in develop Issue<br>
26, I read the following:
</p>
<p>
<i>After some poking around, we figured out that it was assuming that InitWindows called</i><br>
<i>InitMenus as a side effect. The completely new Mac OS 8 implementations of windows</i><br>
<i>and menus no longer have this behavior.</i>
</p>
<p>
However, Inside Macintosh Volume V states, under the heading "InitWindows" on page<br>
208:
</p>
<p>
<i>Since the menu bar definition procedure ('MBDF') actually performs these</i><br>
<i>calculations, InitWindows now calls InitMenus directly. InitMenus has been modified</i><br>
<i>so that it can be called twice&nbsp;&nbsp;in a program without ill effect.</i>
</p>
<p>
I advise the Mac OS 8 engineers to read the "You're never too smart to read the manual"<br>
section of the Veteran Neophyte column in the same issue of develop ;-).<br>
-- Reinder Verlinde
</p>
<p>
<i>Your point is well taken. However, it's&nbsp;&nbsp;worth mentioning that Inside Macintosh:</i><br>
<i>Macintosh Toolbox Essentials (the more current documentation) says no such thing,</i><br>
<i>and in fact says explicitly that InitMenus should always be called after InitWindows. </i><br>
<i>As always, depending on a side effect, even&nbsp;&nbsp;a documented one, is dangerous.</i><br>
<i>-- Dave Johnson</i>
</p>
<h2>MORE GOOD STUFF</h2>
<p>
Look on this issue's CD and <i>develop's</i> Web site for Martin Minow's article, "Timing on<br>
the Macintosh," which was recently updated to include a few Java timing techniques. <br>
You'll also find some scripting vocabulary advice from Cal Simone.
</p>
<p>
THINK THESE LETTERS ARE BORING? Then why not write one of your own?&nbsp;&nbsp;&nbsp;We<br>
welcome your letters to the editor, especially regarding articles published in develop.<br>
Write to Caroline Rose at crose@apple.com or, if technical develop-related questions,<br>
to Dave Johnson at dkj@apple.com. All letters should include your name and company<br>
name as well as your address and phone number. Letters may be excerpted or edited for<br>
clarity (or to make them say what we wish they did).&nbsp;&nbsp;Address subscription- related<br>
queries to order.adc@applelink.apple.com. *
</p>
</body>
</html>
