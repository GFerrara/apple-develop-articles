<!DOCTYPE html>
<html>
<head>
<!-- Article ID: 33 - Extracted from develop-1996 -->
<!-- on 2025-01-18 by Giorgio Ferrara - giorgio<dot>ferrara<at>gmail<dot>com -->
<!-- The content is protected by the copyright of its respective owners -->
<title>June 96 - The Veteran Neophyte: Manual Labor</title>
<link href="../common/styles/main.css" rel="stylesheet" type="text/css">
</head>
<body>
<h2>The Veteran Neophyte: Manual Labor</h2>
<h1>JIM MENSCH</h1>
<p>
<img src="img/232.gif" width="168 px"></img>
</p>
<p>
<i style="font-size:125%;">As a 14-year Apple veteran, why would I be writing a "neophyte"</i>
<br>

<i style="font-size:125%;">column? It's true that I've written system software for many</i>
<br>

<i style="font-size:125%;">Apple computers and I've been in every tech support capacity that</i>
<br>

<i style="font-size:125%;">Apple has ever dreamed of. I'm writing this because I'm in fact</i>
<br>

<i style="font-size:125%;">still wet behind the ears; I learn new things every day here at</i>
<br>

<i style="font-size:125%;">Apple. Most of what I learn involves problem solving and debugging.</i>
<br>

<i style="font-size:125%;">I believe that creative problem solving is the one trait that</i>
<br>

<i style="font-size:125%;">separates a great programmer from an average programmer. Great</i>
<br>

<i style="font-size:125%;">programmers must hone their problem-solving skills all the time,</i>
<br>

<i style="font-size:125%;">whether at a computer or not. In fact, sometimes examining how</i>
<br>

<i style="font-size:125%;">day-to-day problems are solved can help us develop proper coding</i>
<br>

<i style="font-size:125%;">and debugging skills at work. Here I'd like to relate a little fable to</i>
<br>

<i style="font-size:125%;">illustrate this point (the names have been changed to protect my</i>
<br>

<i style="font-size:125%;">automotive pride).</i>
</p>
<h2>A FABLE</h2>
<p>
Bob and Stu were working on a primo 1963 Dodge Dart that they had just bought. It<br>
was a classic: push-button transmission, cherry upholstery, straight body. A classic<br>
car with a classic problem: it had been run dry of oil and the engine needed to be<br>
rebuilt. Flush with confidence (having just completed an engine rebuilding course at<br>
the local community college), Bob said, "No problem, man. Let's rebuild it ourselves;<br>
how hard can it be?" That, I suppose, was the first mistake.
</p>
<p>
&nbsp;&nbsp;So, Bob and Stu set out to rebuild the engine, using all new parts. A scant two months<br>
later, the ten-hour job was finished. Finally they were ready to install the engine.<br>
Struggling to get the 1000-pound engine into the car and onto two very small bolts<br>
that hold it at an angle too obtuse to allow it to drop in straight, they were cussing and<br>
cutting themselves constantly.
</p>
<p>
After a while it dawned on them that things were not going as planned. In a moment of<br>
brilliance, Stu said, "Hey, what does the manual say about installing this thing?" The<br>
manual! Every good car mechanic has a manual and follows it. Why didn't I -- er, Bob<br>
-- think of that? Reading the manual, they found that the torque converter (a big<br>
heavy round thing with teeth on it) was supposed to be mounted not to the engine but to<br>
the transmission!
</p>
<p>
They pulled out the engine and struggled for an hour to get the converter mounted to the<br>
transmission. After this the engine went in relatively easily (with the help of Thom<br>
the helpful Brit). Having connected all the hoses, belts, doodads, and whatnots, our<br>
intrepid pair looked at each other with giddy anticipation. "Could it be that we're ready<br>
to start this thing?" they wondered. So they tried to start it -- and they failed to start<br>
it. Just as with every major programming project, they had put in countless hours,<br>
and when the time came to fire the baby up, nothing happened.
</p>
<p>
It was time to debug this problem. "Hmm. Seems like a compression problem. Do we<br>
have compression?" asked Stu. "Yup, it's low, about 60%, but I guess that's because<br>
the engine hasn't been broken in yet," replied Bob. Were the plugs firing? Ground one<br>
side, turn out the lights, look for the blue spark: of course they were firing. Was the<br>
gas getting to the carburetor? Not yet, so they siphoned some up and tried again. Still<br>
no go.
</p>
<p>
So they started looking at the esoteric stuff. Was the timing chain on correctly? Well,<br>
we have compression, and it seems that we shouldn't if the timing is wrong. Three<br>
hours later, after Bob browbeat Stu into agreeing that the timing must be correct, Stu<br>
browbeat Bob into testing it anyway, since while Bob talked a good game it was always<br>
possible that he was wrong. They partly disassembled the engine and watched the little<br>
valve bits go up and down, and sure enough the timing was right. A victory for Bob,<br>
hollow as it may have been.
</p>
<p>
They continued to argue about what the problem could be, and finally decided to let it<br>
rest a while. This went on for weeks, until one day Bob remembered something that his<br>
teacher told him in class: a tablespoon of oil in every cylinder will get the seals sealing<br>
so that an engine could start. Could it be that easy? Could it be that the first thing that<br>
they had looked at -- the compression -- was in fact what was preventing the engine<br>
from starting? Bob put a little oil in each spark plug hole and the mighty engine<br>
roared to life! Our heroes stood dumbfounded at first, then quietly patted themselves on<br>
the back for such a fine job. Months after they had started their odyssey, they finally<br>
got the beast running.
</p>
<h2>YOU'RE NEVER TOO SMART TO READ THE MANUAL</h2>
<p>
The first thing to notice is that reading the manual was not the first step Bob and Stu<br>
took toward solving their problem. Neglecting to read the manual cost them hours of<br>
avoidable frustration and rework. Like <i>Inside Macintosh</i>, automotive manuals contain<br>
many hidden gems that are there for the asking. For instance, the shop manual didn't<br>
explicitly say, "Don't be a moron; the torque converter stays attached to the<br>
transmission!" but it did say, "Step 9. Remove torque flex plate screws, leaving<br>
converter attached to transmission."
</p>
<p>
<i>Inside Macintosh</i> contains many such tidbits waiting to be found. For instance, I was<br>
recently asked by a developer why a particular call to close a window wasn't causing<br>
the window behind it to redraw properly (it was leaving a desktop-patterned hole<br>
behind). Examining the problem a little further, we found that a resource that was<br>
needed had been purged and wasn't being reloaded. The code was smart enough not to<br>
crash when the purged resource was discovered, but it didn't seem to be able to reload<br>
the thing. As it turns out, the developer was using a rather strange strategy for<br>
manipulating the ResLoad attribute of the Resource Manager. He was turning it off<br>
when he wanted it off but not turning it back on again right away; instead he would<br>
turn it back on when he needed it on. I pointed out to the him that this was the problem,<br>
and he said, "I've been programming the Mac for almost 10 years and I've never read<br>
anywhere that the Window Manager assumes ResLoad is TRUE!"
</p>
<p>
While he's right about this on the surface, if we look we find that <i>Inside Macintosh</i><br>
warns in the SetResLoad description that "If you call SetResLoad with the load<br>
parameter set to FALSE, be sure to . . . set [it] to TRUE as soon as possible. Other parts<br>
of system software that call the Resource Manager expect this value to be TRUE." (This<br>
has been in there so long that Caroline Rose wrote the first draft of it!) Since the<br>
WDEF is system software, it assumed that ResLoad would in fact be TRUE. After I<br>
pointed this out, the developer decided it was time to break out those manuals that had<br>
been collecting dust for so many years, and revisit some of the documentation he<br>
thought he had remembered.
</p>
<h2>YOUR FIRST INSTINCT IS USUALLY THE BEST</h2>
<p>
Another lesson to learn is that when problems arise, don't spend hours plodding<br>
through esoteric logic. First think, "What's the most obvious cause of this problem?"<br>
You might recall that Stu was right when he suspected a compression problem. By<br>
discarding the obvious without first examining it fully, we risk costing ourselves days<br>
of work only to find out that we were right all along. As a seasoned programmer, you'll<br>
learn that you can get a feel for why a problem exists. You may not have any ready<br>
logic to explain why an event occurred, but you might have a feeling anyway. Go with<br>
that feeling. The obvious things are the easiest to check (but don't make it too easy and<br>
stare past the real trouble). They're also usually the quickest to fix. Looking there<br>
first can save time, effort, aggravation, and lots of cussing. In my 14 years of problem<br>
solving for Apple, I've found that the simple, obvious solution is right 90% of the<br>
time.
</p>
<h2>CONFIRM YOUR LOGIC WITH REAL EXAMPLES</h2>
<p>
Why did Bob and Stu retest the timing, anyway? Experienced troubleshooters, they<br>
realized that simply arguing about a point may lead to a conclusion, but any conclusion<br>
that can be tested should be. Logic dictates that the cam shaft can be 180deg. out of<br>
phase (for every rotation of the cam shaft, the crankshaft rotates twice and thus will<br>
be in the same position at 0deg. cam rotation as 180deg. cam rotation), but you should<br>
check it anyway if you're stuck. It's easy to get your logical conclusions backwards and<br>
get your crankshaft 180deg. out of phase. On a car this might result in outright<br>
failure, while on a computer it can mean more insidious things.
</p>
<p>
&nbsp;&nbsp;I recently needed to use the Power Manager to control screen dimming, drive<br>
spindown, and CPU sleep. All of the calls had a "get" function that returned a Boolean,<br>
TRUE if the feature was on or FALSE if it was off. Strangely enough, two of the "set"<br>
calls required a value of TRUE to enable the feature but one required TRUE to disable<br>
the feature. I spent hours looking at the complex logic of IF statements before I simply<br>
watched it all go by in MacsBug and noticed that I was sending a TRUE value to a call<br>
named Disable. Going back through my logic again brought the error right out.
</p>
<h2>BACK TO WORK</h2>
<p>
If you've learned anything from the above tale, good. Remember, manuals contain quite<br>
a lot of information and they're a good place to start. Also remember that this isn't<br>
rocket (or automotive) science. Think simple thoughts; don't create extra work for<br>
yourself.
</p>
<p>
<b>JIM MENSCH</b> (mensch@applelink.apple.com, AppleLink MENSCH) has spent the last<br>
14 years as a wage slave at Apple. Before that he did real work that involved cleaning<br>
and lifting and toting stuff and working with tools. While his mother is his real<br>
inspiration in life, he looks to the relaxed masses for guidance. An avid book collector<br>
and cook, he has absolutely no time for computers when he's not at work. His personal<br>
motto is "Eat more beets."*
</p>
</body>
</html>
