<html>
<head>
<!-- Extracted from develop - 1990 -->
<!-- on 2023-09-06 by Giorgio Ferrara - giorgio<dot>ferrara<at>gmail<dot>com -->
<!-- The content is protected by copyright of their respective owners -->
<title>October 90 - APPLE II Q&A</title>
<link href="styles/main.css" rel="stylesheet" type="text/css">
</head>
<body>
<h2>APPLE II Q &amp; A</h2>
<h1>Apple II Developer Technical Support</h1>
<p>
<b>Q</b><i>How can I force text-page-two shadowing on the Apple II GS?</i>
</p>
<p>
<b>A </b>Most uses for text-page-two shadowing come from older, 8-bit applications that use<br>
text page two. On the Apple IIGS, a Monitor ROM routine at $F962 (TEXT2COPY)<br>
toggles shadowing of text page two, through hardware on ROM 3 and through software<br>
on older machines.&nbsp;&nbsp;(A heartbeat task copies the bank $00 screen to the bank $E1<br>
screen for software shadowing.)
</p>
<p>
TEXT2COPY is only a toggle--it can't tell you the current state of shadowing.&nbsp;&nbsp;To see if<br>
shadowing is currently enabled (the user may have enabled it manually with the<br>
Alternate Display Mode desk accessory), try storing a character in the bank $00<br>
text-page-two screen, waiting more than 1/60th of a second and seeing if the<br>
character has been copied to bank $E1.
</p>
<p>
<b>Q</b><i>Some of the toolbox calls I make crash when executed with GSBug active, but behave</i><br>
<i>normally when GSBug isn't present.&nbsp;&nbsp;How come?</i>
</p>
<p>
<b>A </b>GSBug is intolerant of toolbox calls made in 8-bit mode. Although the<i>Apple IIGS</i><br>
<i>Toolbox Reference</i> (pages 1-2) clearly states that all toolbox calls must be made in<br>
full native mode, the current tool dispatcher protects you by beginning with a REP<br>
#$30 instruction.&nbsp;&nbsp;GSBug does not.&nbsp;&nbsp;Be sure to make all toolbox calls in full native<br>
mode. 
</p>
<p>
<b>Q</b><i>If I try to select a file in an SFPutFile dialog box and the file already exists, clicking</i><br>
<i>Save produces no action if I've entered ProDOS 8 since rebooting.&nbsp;&nbsp;Why?</i>
</p>
<p>
<b>A </b>The System Software 5.0.2 Resource Manager does not restart correctly on return<br>
from ProDOS 8. It doesn't correctly add the system resource file into the search path. <br>
When Standard File detects that you're trying to save over an existing file, it calls<br>
ErrorWindow to display a dialog box with the warning, "That file already exists," and<br>
the choice to replace or cancel.&nbsp;&nbsp;ErrorWindow fails because the system resource file is<br>
not open and the AlertWindow template can't be loaded. Standard File treats an error in<br>
the ErrorWindow call as if you'd clicked Cancel in the "That file already exists" dialog<br>
box.&nbsp;&nbsp;The net effect is that nothing at all happens.&nbsp;&nbsp;This is corrected in System Software<br>
5.0.3.
</p>
<p>
<b>Q</b><i>Why do Apple IIGS fonts look tall and skinny, as if they were made out of rubber and</i><br>
<i>stretched too far in one direction?&nbsp;&nbsp;They look OK when I print using the "vertical<br>
condensed" option.</i>
</p>
<p>
<b>A </b>Nearly all the Apple IIGS fonts were originally designed for other systems, usually<br>
the Macintosh. Font definitions for the Apple II GS and other systems are nearly<br>
identical. Macintosh pixels are square; the width-to-height ratio of a pixel is 1:1. <br>
Apple II GS pixels are much taller than they are wide (the ratio for Apple II GS 640<br>
mode is about 5:12).&nbsp;&nbsp;When a font designed for square pixels is displayed on a system<br>
with pixels of a different shape, the characters look stretched.&nbsp;&nbsp;This is what happens<br>
on the Apple IIGS.
</p>
<p>
Apple could have changed the font strike for a more pleasing look at Apple IIGS<br>
resolutions, but for legal reasons such a change would require renaming the fonts.<br>
Times wouldn't be Times anymore, Helvetica wouldn't be Helvetica, and so on.&nbsp;&nbsp;The<br>
fonts would look the same, but the names would have to be different. In the tradeoff<br>
between appearance and well recognized font names, Apple chose to keep the familiar<br>
names and font strikes.&nbsp;&nbsp;To compensate for the stretched fonts, all of Apple's printer<br>
drivers include a "vertically condensed" printer option.&nbsp;&nbsp;Selecting this option causes<br>
the printer drivers to print with double the screen's vertical resolution.&nbsp;&nbsp;Doubling the<br>
vertical resolution effectively makes the pixel aspect ratio about 10:12, or 5:6,<br>
which is close enough to square that the fonts look the way we expect them to.
</p>
<p>
Some fonts are designed for the Apple II GS aspect ratio of 5:12. Such fonts are<br>
identified in their font family numbers by having the high bit set.
</p>
<p>
<b>These questions and answers</b> are&nbsp;&nbsp;compiled by the Apple II Developer Technical<br>
Support group.&nbsp;&nbsp;*
</p>
</body>
</html>
